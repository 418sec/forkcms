{% macro buttonIcon(url, icon, label, buttonType, extra, iconRight = false, iconOnly = false) %}
  {% import _self as macro %}
  {# When url is an empty string, use a button, otherwise use a hyperlink/anchor #}
  {% if url %}
    <a href="{{ url }}" class="btn {{ buttonType|default('btn-default') }}" title="{{ label }}" {% if extra is iterable %}{% for attr, value in extra %} {{ attr }}="{{ value }}"{% endfor %}{% else %}{{ extra }}{% endif %}>
    {% spaceless %}
      {% if not iconRight %}{{ macro.icon(icon) }}{% endif %}
      <span class="{% if iconOnly %}sr-only{% else %}btn-text{% endif %}">{{ label }}</span>
      {% if iconRight %}{{ macro.icon(icon) }}{% endif %}
    {% endspaceless %}
    </a>
  {% else %}
    {% if extra['data-toggle'] is defined and extra['type'] is not defined %}
      {% set extra = extra|merge({'type' : 'button'}) %}
    {% endif %}
    <button class="btn {{ buttonType|default('btn-default') }}" title="{{ label }}" {% if extra is iterable %}{% for attr, value in extra %} {{ attr }}="{{ value }}"{% endfor %}{% else %}{{ extra }}{% endif %}>
    {% spaceless %}
      {% if not iconRight %}{{ macro.icon(icon) }}{% endif %}
      <span class="{% if iconOnly %}sr-only{% else %}btn-text{% endif %}">{{ label }}</span>
      {% if iconRight %}{{ macro.icon(icon) }}{% endif %}
    {% endspaceless %}
    </button>
  {% endif %}
{% endmacro %}

{%- macro required() -%}
  <abbr data-toggle="tooltip" aria-label="{{ 'lbl.RequiredField'|trans|ucfirst }}" title="{{ 'lbl.RequiredField'|trans|ucfirst }}">*</abbr>
{%- endmacro -%}

{% macro icon(icon, iconType = 'fas') %}
  <i class="{{ iconType }} fa-{{ icon }}"></i>
{% endmacro %}

{% macro infoTooltip(title) %}
  {% import _self as macro %}
  <abbr tabindex="0" data-toggle="tooltip" aria-label="{{ title }}" title="{{ title }}">{{ macro.icon('info-circle') }}</abbr>
{% endmacro %}

{% macro dataGrid(dataGrid, noItemsMessage) %}
  {% if dataGrid %}
    <div class="table-responsive">
      {{ dataGrid|raw }}
    </div>
  {% else %}
    <p>
      {% if noItemsMessage %}
        {{ noItemsMessage|raw }}
      {% else %}
        {{ 'msg.NoItems'|trans|raw }}
      {% endif %}
    </p>
  {% endif %}
{% endmacro %}

{% macro alert(type, message, dismissable, id, extraAttributes = [], active = true, showIcon = true) %}
  {% import _self as macro %}

  {% set extraAttributes = extraAttributes|merge({'class': 'alert alert-' ~ type ~ (extraAttributes.class|length > 0 ? ' ' ~ extraAttributes.class|default('')) }) %}

  {% if active %}
    {% set extraAttributes = extraAttributes|merge({'class': extraAttributes.class|default('') ~ ' active'}) %}
  {% endif %}

  <div{% if id %} id="{{ id }}"{% endif %}{% for attrname, attrvalue in extraAttributes %} {{ attrname }}="{{ attrvalue }}"{% endfor %} role="alert"{% if not active %} style="display: none;"{% endif %}>
    {% if message %}
      {% if type == 'danger' %}
        {{ macro.icon('times-circle', 'far') }}
      {% elseif type == 'success' %}
        {{ macro.icon('check-circle', 'far') }}
      {% elseif type == 'info' %}
        {{ macro.icon('info-circle') }}
      {% elseif type == 'warning' %}
        {{ macro.icon('exclamation-triangle') }}
      {% endif %}
      {% if dismissable %}
        <button type="button" class="close" data-dismiss="alert">Ã—</button>
      {% endif %}
      {{ message|raw }}
    {% endif %}
  </div>
{% endmacro %}

